<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="generator" content="Hugo 0.68.3" />
  <link rel="canonical" href="http://www.tritsch.org/post/2014-12-29-x-mas-project-1-pebble-hello-world-20/">

  

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" type="text/css" href="http://www.tritsch.org/css/paper.css">

  
  
  <link rel="stylesheet" type="text/css" href="http://www.tritsch.org/css/custom.css">

  
  
  <title>X-Mas Project 1: Pebble Hello World 2.0 - The companion edition (with Android, Scala, Macroid) | innolocity.org/tedn.life</title>
</head>
  <body>
    <div class="container paper">
      <nav class="border split-nav">
  <div class="nav-brand">
    <h3><a href="/">innolocity.org/tedn.life</a></h3>
  </div>
  <div class="collapsible">
    <input id="collapsible1" type="checkbox" name="collapsible1">
    <button>
    <label for="collapsible1">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </label>
    </button>
    <div class="collapsible-body">
      <ul class="inline">
      
      </ul>
    </div>
  </div>
</nav>
      <main>
        

<h1 class="post-title">X-Mas Project 1: Pebble Hello World 2.0 - The companion edition (with Android, Scala, Macroid)</h1>


<strong>Publish date: </strong>Dec 29, 2014
<br>



  




I love Christmas!!!<br /><br />My wife turns the house into the home of all homes, I get to see my all (or at least most of) my friends and ... I get to work on special projects :).<br /><br /><a href="https://images-blogger-opensocial.googleusercontent.com/gadgets/proxy?url=http%3A%2F%2F1.bp.blogspot.com%2F-JsjwA-wGtYI%2FVKDxq0CNO9I%2FAAAAAAAAE1s%2Fb7V5F9k3-eM%2Fs1600%2FIMG_0182.JPG&amp;container=blogger&amp;gadget=a&amp;rewriteMime=image%2F*" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-JsjwA-wGtYI/VKDxq0CNO9I/AAAAAAAAE1s/b7V5F9k3-eM/s1600/IMG_0182.JPG" height="200" width="150" /></a>My first special project was to extend the standard <a href="http://developer.getpebble.com/getting-started/watchface-tutorial/part1/" target="_blank">Pebble Tutorial</a> a little bit and show how to build a simple companion app that exchanges data with the watch.<br /><br />As a first step I added some text to the standard Pebble Tutorial. The second step was to implement a companion app that can change the text.<br /><br />This is not really a tutorial. Instead I will share the code and will highlight the changes and extension I made.<br /><br />The main value is in showing what can be done and also in the configuration of the build systems.

<br /><br />To start I suggest you just follow the standard Pebble Tutorial and use <a href="https://cloudpebble.net/" target="_blank">CloudPebble</a> to build it.<br /><br /><a href="http://4.bp.blogspot.com/-NUeP3XXP_3g/VKDx4c6IuJI/AAAAAAAAE10/oSH8WedI9D4/s1600/2014-12-22%2B15.21.09.png" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://4.bp.blogspot.com/-NUeP3XXP_3g/VKDx4c6IuJI/AAAAAAAAE10/oSH8WedI9D4/s1600/2014-12-22%2B15.21.09.png" height="200" width="112" /></a><a href="https://images-blogger-opensocial.googleusercontent.com/gadgets/proxy?url=http%3A%2F%2F2.bp.blogspot.com%2F-DzDhUtihhng%2FVKDyHHWuaVI%2FAAAAAAAAE18%2Fww7H2irubU4%2Fs1600%2FIMG_0181.JPG&amp;container=blogger&amp;gadget=a&amp;rewriteMime=image%2F*" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-DzDhUtihhng/VKDyHHWuaVI/AAAAAAAAE18/ww7H2irubU4/s1600/IMG_0181.JPG" height="200" width="150" /></a>You can then take a look at <a href="https://github.com/rolandtritsch/pebble-watchface-tutorial" target="_blank">my Pebble code</a> to see how to add the text at the top and the bottom. In my case I also decided I want to use <a href="https://github.com/adobe-fonts/source-code-pro" target="_blank">a real geek font</a>. The code is also waiting for an app to send a new text to display, but initially works without the Android app and will just display "World" as a default.<br /><br />Note: Right now the tick handler updates the time and the text to display. To save battery the tick handler gets only called when the minute changes, means when you send a new text to the phone you need to wait until the minute elapses before you can see the new text. Changing this to get updated every second (and make the colon flash every second) is an exercise for the reader :).<br /><br />You can then clone <a href="https://github.com/rolandtritsch/macroid-pebble-hello-world" target="_blank">the Android app</a>. I am assuming you are familiar with developing Scala apps on Android. The app is very simple and it should be very easy to make it work with your Pebble app.<br /><br />As a matter of fact you probably only need to go to CloudPebble and need to get the UUID of your Pebble app and need to update the Android code with it. Afterwards you should be able to compile and install the Android app on your phone.<br /><br />A couple of things that worthwhile pointing out are:<br /><br /><ul><li>In the build.sbt file I had to add PebbleKit to the ProGuard configuration to make sure ProGuard is not removing the PebbleKit from the class files</li><li>For the GUI I am using <a href="http://macroid.github.io/" target="_blank">Macroid</a> and to center the widgets I implemented a Tweak that sets the gravity. Not sure, if this is the right or best way to go about it</li></ul><div>That's it. As I said, this is not a tutorial. Please do not expect that all of this will just work. Instead you have to learn how to build a Pebble app and how to build a Scala/Macroid app on Android and you can then use my code to make a simple companion app work.</div>

  

      </main>
      
  

  </div>
  </body>
</html>