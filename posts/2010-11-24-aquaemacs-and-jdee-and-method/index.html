<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>tedn.life - AquaEmacs and JDEE and Method Completion - Cannot find JDK&#39;s tools jar file (or equivalent). Type M-x describe-function [RET] jde-get-jdk-dir for more </title>

    
    
    <meta content="tedn.life" name="keywords">
    
    <meta content="tedn.life - Hhhmmm ... nerd alert: If you do not like AquaEmacs, JDEE and Method Completion ... don&#39;t read this :).
Otherwise ... good news: Not sure, if you have stumbled over this, but if you try to make your method completion work you might get an error message along the lines of ... 
Cannot find JDK&#39;s tools jar file (or equivalent). Type M-x describe-function [RET] jde-get-jdk-dir for more info." name="description">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    

    

    

    
    
    <script type="text/javascript" async
        src="/mathjax-3.0.0/tex-mml-chtml.js">
    </script>
    

    <link rel="stylesheet" href="/layui/css/layui.css">
    <link rel="stylesheet" href="/self/css/default.css">
    <script src="/layui/layui.js"></script>


    <link rel="stylesheet" async href="/self/css/markdown.min.css">
    <link rel="stylesheet" async href="/self/css/gallery.css">
    <link rel="stylesheet" async href="/font-awesome-4.7.0/css/font-awesome.min.css">
    <script src="/self/js/lazysizes.min.js" async></script></head>

<body>
    
    <header class="layui-header layui-bg-cyan">

    

    <a class="nav-self-logo" href="/">
        tedn.life
    </a>

    <ul class="layui-nav layui-layout-right layui-bg-cyan" lay-filter="">
        
            
                <li class="layui-nav-item" id="nav_big"><a href="/about/">About</a></li>
            
                <li class="layui-nav-item" id="nav_big"><a href="/social/">Social</a></li>
            
        

        
        <li class="layui-nav-item" id="nav_small">
            <a href="javascript:;">
                <i class="layui-icon layui-icon-app" style="font-size: 24px;"></i>
            </a>

            <dl class="layui-nav-child">
                
                    
                        <dd><a href="/about/">About</a></dd>
                    
                        <dd><a href="/social/">Social</a></dd>
                    
                
            </dl>
        </li>
    </ul>
</header>

<script>
layui.use('element', function(){
  var element = layui.element;
});
</script>

        <div id="content" style="min-height:80%">
<div class="layui-container" style="margin-bottom: 10px">
    

    <div class="layui-row layui-col-space10">
        <div class="layui-col-md12 layui-col-sm12 layui-col-xs12">
            <div class="layui-card single-card">
                <br />
                <blockquote class="layui-elem-quote markdown-body single-title" >
                    <h1>AquaEmacs and JDEE and Method Completion - Cannot find JDK&#39;s tools jar file (or equivalent). Type M-x describe-function [RET] jde-get-jdk-dir for more</h1>
                    <h3 style="margin-top:10px; margin-bottom:10px"> 
    <i class="layui-icon layui-icon-date" style="font-size: 24px; vertical-align: -2px;"></i>
    <span>2010-11-24</span>

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 0px;"></i>
    
</h3>
                </blockquote>
                <div class="layui-card-body markdown-body single-content">
                    
Hhhmmm ... nerd alert: If you do not like <a href="http://aquamacs.org/">AquaEmacs</a>, <a href="http://jdee.sourceforge.net/">JDEE</a> and <a href="http://jdee.sourceforge.net/jdedoc/html/jde-ug/jde-ug.html">Method Completion</a> ... don't read this :).<div><br /></div><div>Otherwise ... good news: Not sure, if you have stumbled over this, but if you try to make your method completion work you might get an error message along the lines of ...

</div><div><br /></div><div><div><i>Cannot find JDK's tools jar file (or equivalent). Type M-x describe-function [RET] jde-get-jdk-dir for more info.</i></div></div><div><i><br /></i></div><div>... when you hit C-c C-v . to complete a method name. The problem is that the beanshell cannot find tools.jar (or more specifically classes.jar (on MacOS)).</div><div><br /></div><div>In my case my jde-get-jdk-dir returns ...</div><div><br /></div><div><i>/System/Library/Frameworks/JavaVM.framework/Versions/1.6.0/Home</i></div><br /><div>... but if you look the error message up in ...</div><div><br /></div><div><i>~/Library/Application Support/Aquamacs Emacs/jdee-2.4.0.1/lisp/jde.el</i></div><div><br /></div><div>... you will see that on the darwin platform (MacOS) it tries to find the classes.jar file (which contains the tools stuff on darwin) in Classes/classes.jar, but the correct location is ../Classes/classes.jar, means to make it work you have to change jde-get-tools-jar() in jde.el to ...</div><div><br /></div><div><i>(defun jde-get-tools-jar ()</i></div><div><i>  "Gets the correct tools.jar or equivalent. Signals an</i></div><div><i>error if it cannot find the jar."</i></div><div><i>  (let ((tools</i></div><div><span class="Apple-tab-span" style="white-space:pre"><i> </i></span><i> (expand-file-name</i></div><div><span class="Apple-tab-span" style="white-space:pre"><i> </i></span><i>  (if (eq system-type 'darwin)</i></div><div><span class="Apple-tab-span" style="white-space:pre"><i> </i></span><i>      "<span class="Apple-style-span"><b>../</b></span>Classes/classes.jar"</i></div><div><span class="Apple-tab-span" style="white-space:pre"><i> </i></span><i>    "lib/tools.jar")</i></div><div><span class="Apple-tab-span" style="white-space:pre"><i> </i></span><i>  (jde-get-jdk-dir))))</i></div><div><i>    (if (file-exists-p tools)</i></div><div><span class="Apple-tab-span" style="white-space:pre"><i> </i></span><i>tools</i></div><div><i>      (error (concat "Cannot find JDK's tools jar file (or equivalent)."</i></div><div><span class="Apple-tab-span" style="white-space:pre"><i>  </i></span><i>     "Type M-x describe-function [RET] jde-get-jdk-dir for more info.")))))</i></div><div><i><br /></i></div><div>... and then byte-compile it (just go to the Emacs-Lisp menu and select "Byte-compile this File"). Last but not least, you need to restart AquaEmacs and you are done.</div><div><br /></div><div>OK. I admit it ... this is nerdy :).</div><div>  </div>
</div>
            </div>
        </div>

        
    </div>
</div>


        </div><footer>
    

    <div class="layui-container">
        <p class="copyright">Copyright &copy; 1965-2020 Roland Tritsch - All rights reserved. Last updated on  2020-03-30 07:44:46 &#43;0100 IST </p>
    </div>
</footer>

</body>
</html>
