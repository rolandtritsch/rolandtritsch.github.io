<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>tedn.life - X-Mas Project 1: Pebble Hello World 2.0 - The companion edition (with Android, Scala, Macroid) </title>

    
    
    <meta content="Nerdy, Scala, Mobile, Software Engineering" name="keywords">
    
    <meta content="tedn.life - The life of The Extreme Digital Nomad (TEDN)" name="description">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    

    

    

    
    
    <script type="text/javascript" async
        src="/mathjax-3.0.0/tex-mml-chtml.js">
    </script>
    

    <link rel="stylesheet" href="/layui/css/layui.css">
    <link rel="stylesheet" href="/self/css/default.css">
    <script src="/layui/layui.js"></script>


    <link rel="stylesheet" async href="/self/css/markdown.min.css">
    <link rel="stylesheet" async href="/self/css/gallery.css">
    <link rel="stylesheet" async href="/font-awesome-4.7.0/css/font-awesome.min.css">
    <script src="/self/js/lazysizes.min.js" async></script></head>

<body>
    
    <header class="layui-header layui-bg-cyan">

    

    <a class="nav-self-logo" href="/">
        tedn.life
    </a>

    <ul class="layui-nav layui-layout-right layui-bg-cyan" lay-filter="">
        
            
                <li class="layui-nav-item" id="nav_big"><a href="/about/">About</a></li>
            
                <li class="layui-nav-item" id="nav_big"><a href="/social/">Social</a></li>
            
                <li class="layui-nav-item" id="nav_big"><a href="/categories/">Categories</a></li>
            
                <li class="layui-nav-item" id="nav_big"><a href="/tags/">Tags</a></li>
            
        

        
        <li class="layui-nav-item" id="nav_small">
            <a href="javascript:;">
                <i class="layui-icon layui-icon-app" style="font-size: 24px;"></i>
            </a>

            <dl class="layui-nav-child">
                
                    
                        <dd><a href="/about/">About</a></dd>
                    
                        <dd><a href="/social/">Social</a></dd>
                    
                        <dd><a href="/categories/">Categories</a></dd>
                    
                        <dd><a href="/tags/">Tags</a></dd>
                    
                
            </dl>
        </li>
    </ul>
</header>

<script>
layui.use('element', function(){
  var element = layui.element;
});
</script>

        <div id="content" style="min-height:80%">
<div class="layui-container" style="margin-bottom: 10px">
    

    <div class="layui-row layui-col-space10">
        <div class="layui-col-md8 layui-col-sm12 layui-col-xs12">
            <div class="layui-card single-card">
                <br />
                <blockquote class="layui-elem-quote markdown-body single-title" >
                    <h1>X-Mas Project 1: Pebble Hello World 2.0 - The companion edition (with Android, Scala, Macroid)</h1>
                    <h3 style="margin-top:10px; margin-bottom:10px">
    <i class="layui-icon layui-icon-date" style="font-size: 24px; vertical-align: -2px;"></i>
    <span>2014-12-29</span>

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 0px;"></i>
    
        <a href="/categories/software-engineering">
            <span class="layui-badge-rim" style="vertical-align: 2px;">Software Engineering</span>
        </a>
    
    
        <a href="/tags/nerdy">
            <span class="layui-badge" style="vertical-align: 2px;">Nerdy</span>
        </a>
    
        <a href="/tags/scala">
            <span class="layui-badge" style="vertical-align: 2px;">Scala</span>
        </a>
    
        <a href="/tags/mobile">
            <span class="layui-badge" style="vertical-align: 2px;">Mobile</span>
        </a>
    
</h3>

                </blockquote>
                <div class="layui-card-body markdown-body single-content">
                    
I love Christmas!!!<br /><br />My wife turns the house into the home of all homes, I get to see my all (or at least most of) my friends and ... I get to work on special projects :).<br /><br /><a href="https://images-blogger-opensocial.googleusercontent.com/gadgets/proxy?url=http%3A%2F%2F1.bp.blogspot.com%2F-JsjwA-wGtYI%2FVKDxq0CNO9I%2FAAAAAAAAE1s%2Fb7V5F9k3-eM%2Fs1600%2FIMG_0182.JPG&amp;container=blogger&amp;gadget=a&amp;rewriteMime=image%2F*" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-JsjwA-wGtYI/VKDxq0CNO9I/AAAAAAAAE1s/b7V5F9k3-eM/s1600/IMG_0182.JPG" height="200" width="150" /></a>My first special project was to extend the standard <a href="http://developer.getpebble.com/getting-started/watchface-tutorial/part1/" target="_blank">Pebble Tutorial</a> a little bit and show how to build a simple companion app that exchanges data with the watch.<br /><br />As a first step I added some text to the standard Pebble Tutorial. The second step was to implement a companion app that can change the text.<br /><br />This is not really a tutorial. Instead I will share the code and will highlight the changes and extension I made.<br /><br />The main value is in showing what can be done and also in the configuration of the build systems.

<br /><br />To start I suggest you just follow the standard Pebble Tutorial and use <a href="https://cloudpebble.net/" target="_blank">CloudPebble</a> to build it.<br /><br /><a href="http://4.bp.blogspot.com/-NUeP3XXP_3g/VKDx4c6IuJI/AAAAAAAAE10/oSH8WedI9D4/s1600/2014-12-22%2B15.21.09.png" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://4.bp.blogspot.com/-NUeP3XXP_3g/VKDx4c6IuJI/AAAAAAAAE10/oSH8WedI9D4/s1600/2014-12-22%2B15.21.09.png" height="200" width="112" /></a><a href="https://images-blogger-opensocial.googleusercontent.com/gadgets/proxy?url=http%3A%2F%2F2.bp.blogspot.com%2F-DzDhUtihhng%2FVKDyHHWuaVI%2FAAAAAAAAE18%2Fww7H2irubU4%2Fs1600%2FIMG_0181.JPG&amp;container=blogger&amp;gadget=a&amp;rewriteMime=image%2F*" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-DzDhUtihhng/VKDyHHWuaVI/AAAAAAAAE18/ww7H2irubU4/s1600/IMG_0181.JPG" height="200" width="150" /></a>You can then take a look at <a href="https://github.com/rolandtritsch/pebble-watchface-tutorial" target="_blank">my Pebble code</a> to see how to add the text at the top and the bottom. In my case I also decided I want to use <a href="https://github.com/adobe-fonts/source-code-pro" target="_blank">a real geek font</a>. The code is also waiting for an app to send a new text to display, but initially works without the Android app and will just display "World" as a default.<br /><br />Note: Right now the tick handler updates the time and the text to display. To save battery the tick handler gets only called when the minute changes, means when you send a new text to the phone you need to wait until the minute elapses before you can see the new text. Changing this to get updated every second (and make the colon flash every second) is an exercise for the reader :).<br /><br />You can then clone <a href="https://github.com/rolandtritsch/macroid-pebble-hello-world" target="_blank">the Android app</a>. I am assuming you are familiar with developing Scala apps on Android. The app is very simple and it should be very easy to make it work with your Pebble app.<br /><br />As a matter of fact you probably only need to go to CloudPebble and need to get the UUID of your Pebble app and need to update the Android code with it. Afterwards you should be able to compile and install the Android app on your phone.<br /><br />A couple of things that worthwhile pointing out are:<br /><br /><ul><li>In the build.sbt file I had to add PebbleKit to the ProGuard configuration to make sure ProGuard is not removing the PebbleKit from the class files</li><li>For the GUI I am using <a href="http://macroid.github.io/" target="_blank">Macroid</a> and to center the widgets I implemented a Tweak that sets the gravity. Not sure, if this is the right or best way to go about it</li></ul><div>That's it. As I said, this is not a tutorial. Please do not expect that all of this will just work. Instead you have to learn how to build a Pebble app and how to build a Scala/Macroid app on Android and you can then use my code to make a simple companion app work.</div>
</div>
            </div>
        </div>

        
        <div class="layui-col-md4 layui-col-sm12 layui-col-xs12">
            <div class="layui-card single-card">
                <h1 class="single-title">Relevant Topics</h1>
                
                	
                    <div style="margin-left: 10px;">
                        <blockquote class="layui-elem-quote" style="background-color:#FFFFFF;margin-top: 10px;">
                            <a href="/2014/07/27/scala-android-and-ble-because-.../">
                                <h2 class="">Scala, Android and BLE, because ...</h2>
                            </a>
                            <h3 style="margin-top:10px; margin-bottom:10px">
    <i class="layui-icon layui-icon-date" style="font-size: 24px; vertical-align: -2px;"></i>
    <span>2014-07-27</span>

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 0px;"></i>
    
        <a href="/categories/software-engineering">
            <span class="layui-badge-rim" style="vertical-align: 2px;">Software Engineering</span>
        </a>
    
    
        <a href="/tags/mobile">
            <span class="layui-badge" style="vertical-align: 2px;">Mobile</span>
        </a>
    
        <a href="/tags/scala">
            <span class="layui-badge" style="vertical-align: 2px;">Scala</span>
        </a>
    
        <a href="/tags/nerdy">
            <span class="layui-badge" style="vertical-align: 2px;">Nerdy</span>
        </a>
    
</h3>

                        </blockquote>
                    </div>
                	
                    <div style="margin-left: 10px;">
                        <blockquote class="layui-elem-quote" style="background-color:#FFFFFF;margin-top: 10px;">
                            <a href="/2014/04/01/htc-one-mini-...-does-it-make-sense/">
                                <h2 class="">HTC One Mini ... does it make Sense?</h2>
                            </a>
                            <h3 style="margin-top:10px; margin-bottom:10px">
    <i class="layui-icon layui-icon-date" style="font-size: 24px; vertical-align: -2px;"></i>
    <span>2014-04-01</span>

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 0px;"></i>
    
        <a href="/categories/personal">
            <span class="layui-badge-rim" style="vertical-align: 2px;">Personal</span>
        </a>
    
    
        <a href="/tags/mobile">
            <span class="layui-badge" style="vertical-align: 2px;">Mobile</span>
        </a>
    
        <a href="/tags/nerdy">
            <span class="layui-badge" style="vertical-align: 2px;">Nerdy</span>
        </a>
    
</h3>

                        </blockquote>
                    </div>
                	
                    <div style="margin-left: 10px;">
                        <blockquote class="layui-elem-quote" style="background-color:#FFFFFF;margin-top: 10px;">
                            <a href="/2014/02/06/scala-on-the-pebble-exploring-sdk-2.0-.../">
                                <h2 class="">Scala on the Pebble - Exploring SDK 2.0 ...</h2>
                            </a>
                            <h3 style="margin-top:10px; margin-bottom:10px">
    <i class="layui-icon layui-icon-date" style="font-size: 24px; vertical-align: -2px;"></i>
    <span>2014-02-06</span>

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 0px;"></i>
    
        <a href="/categories/software-engineering">
            <span class="layui-badge-rim" style="vertical-align: 2px;">Software Engineering</span>
        </a>
    
    
        <a href="/tags/scala">
            <span class="layui-badge" style="vertical-align: 2px;">Scala</span>
        </a>
    
        <a href="/tags/embedded">
            <span class="layui-badge" style="vertical-align: 2px;">Embedded</span>
        </a>
    
        <a href="/tags/mobile">
            <span class="layui-badge" style="vertical-align: 2px;">Mobile</span>
        </a>
    
</h3>

                        </blockquote>
                    </div>
                	
                    <div style="margin-left: 10px;">
                        <blockquote class="layui-elem-quote" style="background-color:#FFFFFF;margin-top: 10px;">
                            <a href="/2014/01/28/scala-on-android-a-start-.../">
                                <h2 class="">Scala on Android - A start ...</h2>
                            </a>
                            <h3 style="margin-top:10px; margin-bottom:10px">
    <i class="layui-icon layui-icon-date" style="font-size: 24px; vertical-align: -2px;"></i>
    <span>2014-01-28</span>

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 0px;"></i>
    
        <a href="/categories/software-engineering">
            <span class="layui-badge-rim" style="vertical-align: 2px;">Software Engineering</span>
        </a>
    
    
        <a href="/tags/mobile">
            <span class="layui-badge" style="vertical-align: 2px;">Mobile</span>
        </a>
    
        <a href="/tags/scala">
            <span class="layui-badge" style="vertical-align: 2px;">Scala</span>
        </a>
    
        <a href="/tags/functional-programming">
            <span class="layui-badge" style="vertical-align: 2px;">Functional Programming</span>
        </a>
    
</h3>

                        </blockquote>
                    </div>
                	
                    <div style="margin-left: 10px;">
                        <blockquote class="layui-elem-quote" style="background-color:#FFFFFF;margin-top: 10px;">
                            <a href="/2014/12/29/x-mas-project-2-building-a-fliewatuet-using-mignon/">
                                <h2 class="">X-Mas Project 2: Building a &#34;FlieWaTuet&#34; - Using Mignon :)</h2>
                            </a>
                            <h3 style="margin-top:10px; margin-bottom:10px">
    <i class="layui-icon layui-icon-date" style="font-size: 24px; vertical-align: -2px;"></i>
    <span>2014-12-29</span>

    
    <i class="layui-icon layui-icon-tabs" style="font-size: 22px; vertical-align: 0px;"></i>
    
        <a href="/categories/personal">
            <span class="layui-badge-rim" style="vertical-align: 2px;">Personal</span>
        </a>
    
    
        <a href="/tags/nerdy">
            <span class="layui-badge" style="vertical-align: 2px;">Nerdy</span>
        </a>
    
</h3>

                        </blockquote>
                    </div>
                	
                
                <br />
            </div>
        </div>
        
    </div>
</div>


        </div><footer>
    

    <div class="layui-container">
        <p class="copyright">Copyright &copy; 1965-2020 Roland Tritsch - All rights reserved. Last updated on  2020-04-10 11:18:58 &#43;0100 IST </p>
    </div>
</footer>

</body>
</html>
